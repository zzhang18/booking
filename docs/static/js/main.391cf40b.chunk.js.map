{"version":3,"sources":["pages/User.js","i18n.js","App.js","reportWebVitals.js","index.js"],"names":["Search","Input","WrappedComponent","EditModalWrapper","formRef","React","createRef","save","e","a","props","edit","setState","visible","cancelModal","current","resetFields","onCancel","onFinish","values","console","log","this","title","form","target","onOk","ref","initialValues","name","mobile","email","Item","label","Component","hoc","useTranslation","t","i18n","style","padding","marginBottom","float","type","margin","onClick","show","placeholder","onSearch","value","search","width","changeLanguage","href","dataSource","users","columns","dataIndex","key","sorter","b","render","user","onConfirm","delete","okText","cancelText","cancel","withTranslation","state","fetchUsers","_","times","index","filter","message","success","resources","translation","use","Backend","LanguageDetector","initReactI18next","init","react","useSuspense","ns","defaultNS","fallbackLng","debug","saveMissing","interpolation","escapeValue","changeLocale","locale","zhCN","enUS","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.391cf40b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Table, Button, Modal, Divider, Popconfirm, Form, Input, message } from 'antd';\r\nimport _ from 'lodash';\r\nimport { useTranslation, withTranslation } from 'react-i18next';\r\n\r\nconst { Search } = Input;\r\nfunction User(props) {\r\n\tconst { t, i18n } = useTranslation();\r\n  return (\r\n    <div style={{padding:40}}>\r\n        <div style={{marginBottom:20}}>\r\n          <div><h1>{t('user')}</h1></div>\r\n          <div style={{float:'left'}}>\r\n            <Button type=\"primary\" style={{margin: '0 10px 10px 0'}} onClick={() => props.show()}>{t('addUser')}</Button>\r\n            <Search\r\n              placeholder='search user'\r\n              onSearch={(value) => props.search(value)}\r\n              style={{ width: 240 }}\r\n            />\r\n          </div>\r\n          <div style={{float:'right'}}>\r\n            <Button style={{margin: '0 10px 10px 0'}} onClick={async () => {\r\n\t\t\t\t\t\t\ti18n.changeLanguage(t('targetLangCode'));\r\n\t\t\t\t\t\t\t// props.changeLocale();\r\n\t\t\t\t\t\t}}>{t('targetLang')}</Button>\r\n            <Button><a href='https://github.com/zzhang18/booking'>GitHub</a></Button>\r\n          </div>\r\n        </div>\r\n        <Table \r\n        dataSource={props.users}\r\n        columns=\t{[\r\n        { title: t('name'), dataIndex: 'name', key: 'name', width: 200, sorter: (a, b) => a.name > b.name },\r\n        { title: t('mobile'), dataIndex: 'mobile', key: 'mobile', width: 160, sorter: (a, b) => a.mobile - b.mobile },\r\n        { title: t('email'), dataIndex: 'email', key: 'email', width: 160, sorter: (a, b) => a.email - b.email },\r\n        {\r\n          title:t('actions'), key: 'action', width: 160,\r\n          render: (e, user) => {\r\n            return (\r\n              <div>\r\n                <a onClick={() => props.show(user)}>{t('modify')}</a>\r\n                <Divider type=\"vertical\" />\r\n                <Popconfirm title='Confirm to delete?' onConfirm={() => { props.delete(user); }} okText='ok' cancelText='cancel'>\r\n                  <a >{t('delete')}</a>\r\n                </Popconfirm>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        ]}\r\n        />\r\n\r\n      <EditModalWrapper\r\n        title={props.title}\r\n        visible={props.visible}\r\n        edit={(user) => props.edit(user)}\r\n        onCancel={props.cancel}\r\n        target={props.user}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nclass EditModalWrapper extends React.Component {\r\n  formRef = React.createRef();\r\n\r\n  save = async (e) => {\r\n    this.props.edit();\r\n    this.setState({ visible: false});\r\n  };\r\n\r\n  cancelModal = async () => {\r\n    this.formRef.current.resetFields();\r\n    this.props.onCancel();\r\n  };\r\n\r\n  onFinish = values => {\r\n    console.log('Received values of form: ', values);\r\n  };\r\n\r\n  render() {\r\n    const { visible, form, title, target } = this.props;\r\n    return (\r\n      <>\r\n        <Modal\r\n          title={title}\r\n          visible={visible}\r\n\t\t\t\t\tonOk={this.save}\r\n\t\t\t\t\tonCancel={this.cancelModal}\r\n        >\r\n          <Form ref={this.formRef} initialValues={{ name: target ?target.name : null, mobile:target ?target.mobile : null, email:target ?target.email : null }} >\r\n            <Form.Item name='name' label=\"Name\">\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item name='mobile' label=\"Mobile\">\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item name='email' label=\"Email\">\r\n              <Input />\r\n            </Form.Item>\r\n\t\t\t\t\t</Form>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet hoc = (WrappedComponent) => {\r\n  return withTranslation()(class EnhancedComponent extends Component {\r\n\t\tget t() { return this.props.t; }\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props);\r\n\t\t\tthis.state = {\r\n        user: null,\r\n        users: null,\r\n        visible: false,\r\n        title: 'Add user',\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tasync componentDidMount() {\r\n      await this.fetchUsers();\r\n    }\r\n\r\n    async fetchUsers() {\r\n      let users = _.times(10,index=> { \r\n        return {\r\n          \"name\": 'user' + index,\r\n          \"mobile\": 'mobile' + index,\r\n          \"email\": 'email' + index\r\n          };\r\n        }\r\n      );\r\n      this.setState({users});\r\n    }\r\n\r\n    async search(value) {\r\n      let users = _.times(10,index=> { \r\n        return {\r\n          \"name\": 'user' + index,\r\n          \"mobile\": 'mobile' + index,\r\n          \"email\": 'email' + index\r\n          };\r\n        }\r\n      );\r\n      this.setState({users: value ? _.filter(users, {'name':value}) : users});\r\n    }\r\n\r\n    async show(user) {\r\n      this.setState({ visible: true, user, title: user ? this.t('editUser'): this.t('addUser')});\r\n    }\r\n\r\n    async edit(user) {\r\n      this.cancel();\r\n    }\r\n\r\n    async cancel() {\r\n      this.setState({ visible: false, user: null });\r\n    }\r\n    \r\n    async delete(user) {\r\n      message.success('deleted');\r\n    }\r\n\r\n\t\trender() {\r\n\t\t\treturn <WrappedComponent \r\n      user={this.state.user}\r\n      users={this.state.users}\r\n      title={this.state.title}\r\n      visible={this.state.visible}\r\n      cancel={() => this.cancel()}\r\n      show={(user) => this.show(user)}\r\n      edit={(user) => this.edit(user)}\r\n      search={(value) => this.search(value)}\r\n      />;\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport default hoc(User);\r\n","import i18n from 'i18next';\r\nimport Backend from 'i18next-xhr-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport translationENUS from './locales/en-US/translation.json';\r\nimport translationZHCN from './locales/zh-CN/translation.json';\r\n\r\n// the translations\r\nconst resources = {\r\n\t'en-US': {\r\n\t\ttranslation: translationENUS\r\n\t},\r\n\t'zh-CN': {\r\n\t\ttranslation: translationZHCN\r\n\t}\r\n};\r\n\r\ni18n\r\n\t// load translation using xhr -> see /public/locales\r\n\t// learn more: https://github.com/i18next/i18next-xhr-backend\r\n\t.use(Backend)\r\n\t// detect user language\r\n\t// learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n\t.use(LanguageDetector)\r\n\t// pass the i18n instance to react-i18next.\r\n\t.use(initReactI18next)\r\n\t// init i18next\r\n\t// for all options read: https://www.i18next.com/overview/configuration-options\r\n\t.init({\r\n\t\t// backend: {\r\n\t\t//   // for all available options read the backend's repository readme file\r\n\t\t//   loadPath: './locales/{{lng}}/{{ns}}.json'\r\n\t\t// },\r\n\t\treact: {\r\n\t\t\tuseSuspense: false //   <---- this will do the magic\r\n\t\t},\r\n\t\tresources,\r\n\t\tns: ['translation'],\r\n\t\tdefaultNS: 'translation',\r\n\t\t// lng:'zh-CN', //lock default lang\r\n\t\t// lng: 'en-US',\r\n\t\tfallbackLng: 'zh-CN',\r\n\t\tdebug: true,\r\n\t\tsaveMissing: true,\r\n\t\tinterpolation: {\r\n\t\t\tescapeValue: false, // not needed for react as it escapes by default\r\n\t\t}\r\n\t});\r\n\r\nexport default i18n;\r\n","import React, { Component } from 'react';\nimport { ConfigProvider } from 'antd';\nimport _ from 'lodash';\nimport './App.css';\nimport User from './pages/User';\nimport i18n from './i18n';\nimport { useTranslation, withTranslation } from 'react-i18next';\nimport zhCN from 'antd/es/locale/zh_CN';\nimport enUS from 'antd/es/locale/en_US';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport 'moment/locale/en-gb';\n\nfunction App(props) {\n  return (\n    <div>\n      <ConfigProvider locale={props.locale}>\n        <User\n          changeLocale={props.changeLocale}\n        />\n      </ConfigProvider>\n    </div>\n  );\n}\n\nlet hoc = (WrappedComponent) => {\n  return class EnhancedComponent extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        locale: null\n      };\n    }\n\n    async componentDidMount() {\n\n    }\n\n    changeLocale = async () => {\n\t\t\tthis.setState({ locale: this.t('thisLanguageMomentCode') === 'zh-cn' ? zhCN : enUS });\n\t\t}\n\n    render() {\n      return <WrappedComponent\n        changeLocale={this.changeLocale}\n      />;\n    }\n  };\n};\n\nexport default hoc(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './i18n';\n\nReactDOM.render(\n  <App />\n  , document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}